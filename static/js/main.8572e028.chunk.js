(window.webpackJsonppasianssi=window.webpackJsonppasianssi||[]).push([[0],{182:function(e,t,a){e.exports=a(456)},389:function(e,t,a){},390:function(e,t,a){var n={"./10c.svg":391,"./10d.svg":392,"./10h.svg":393,"./10s.svg":394,"./1c.svg":395,"./1d.svg":396,"./1h.svg":397,"./1s.svg":398,"./1s2.svg":399,"./2c.svg":400,"./2d.svg":401,"./2h.svg":402,"./2s.svg":403,"./3c.svg":404,"./3d.svg":405,"./3h.svg":406,"./3s.svg":407,"./4c.svg":408,"./4d.svg":409,"./4h.svg":410,"./4s.svg":411,"./5c.svg":412,"./5d.svg":413,"./5h.svg":414,"./5s.svg":415,"./6c.svg":416,"./6d.svg":417,"./6h.svg":418,"./6s.svg":419,"./7c.svg":420,"./7d.svg":421,"./7h.svg":422,"./7s.svg":423,"./8c.svg":424,"./8d.svg":425,"./8h.svg":426,"./8s.svg":427,"./9c.svg":428,"./9d.svg":429,"./9h.svg":430,"./9s.svg":431,"./jc.svg":432,"./jd.svg":433,"./jh.svg":434,"./js.svg":435,"./kc.svg":436,"./kd.svg":437,"./kh.svg":438,"./ks.svg":439,"./qc.svg":440,"./qd.svg":441,"./qh.svg":442,"./qs.svg":443};function i(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id=390},391:function(e,t,a){e.exports=a.p+"static/media/10c.0d9f46a2.svg"},392:function(e,t,a){e.exports=a.p+"static/media/10d.c458ac87.svg"},393:function(e,t,a){e.exports=a.p+"static/media/10h.673e6961.svg"},394:function(e,t,a){e.exports=a.p+"static/media/10s.fbf23aeb.svg"},395:function(e,t,a){e.exports=a.p+"static/media/1c.ccae23a8.svg"},396:function(e,t,a){e.exports=a.p+"static/media/1d.cc542090.svg"},397:function(e,t,a){e.exports=a.p+"static/media/1h.8866e73c.svg"},398:function(e,t,a){e.exports=a.p+"static/media/1s.37f65d31.svg"},399:function(e,t,a){e.exports=a.p+"static/media/1s2.09551346.svg"},400:function(e,t,a){e.exports=a.p+"static/media/2c.9f6b2c07.svg"},401:function(e,t,a){e.exports=a.p+"static/media/2d.8a772369.svg"},402:function(e,t,a){e.exports=a.p+"static/media/2h.f779362d.svg"},403:function(e,t,a){e.exports=a.p+"static/media/2s.62a2dbde.svg"},404:function(e,t,a){e.exports=a.p+"static/media/3c.aa1fd7b9.svg"},405:function(e,t,a){e.exports=a.p+"static/media/3d.ae722c51.svg"},406:function(e,t,a){e.exports=a.p+"static/media/3h.6c2ca965.svg"},407:function(e,t,a){e.exports=a.p+"static/media/3s.af02c79e.svg"},408:function(e,t,a){e.exports=a.p+"static/media/4c.a5b41e41.svg"},409:function(e,t,a){e.exports=a.p+"static/media/4d.9276708f.svg"},410:function(e,t,a){e.exports=a.p+"static/media/4h.99ebbf59.svg"},411:function(e,t,a){e.exports=a.p+"static/media/4s.be80329a.svg"},412:function(e,t,a){e.exports=a.p+"static/media/5c.4e5b216e.svg"},413:function(e,t,a){e.exports=a.p+"static/media/5d.8b8a1159.svg"},414:function(e,t,a){e.exports=a.p+"static/media/5h.999b6b95.svg"},415:function(e,t,a){e.exports=a.p+"static/media/5s.390fcce0.svg"},416:function(e,t,a){e.exports=a.p+"static/media/6c.f74765f1.svg"},417:function(e,t,a){e.exports=a.p+"static/media/6d.619bcf9d.svg"},418:function(e,t,a){e.exports=a.p+"static/media/6h.13ee1811.svg"},419:function(e,t,a){e.exports=a.p+"static/media/6s.6aa1076b.svg"},420:function(e,t,a){e.exports=a.p+"static/media/7c.217a7c59.svg"},421:function(e,t,a){e.exports=a.p+"static/media/7d.744b7b7b.svg"},422:function(e,t,a){e.exports=a.p+"static/media/7h.1bbc7f5b.svg"},423:function(e,t,a){e.exports=a.p+"static/media/7s.7d84cf6d.svg"},424:function(e,t,a){e.exports=a.p+"static/media/8c.4179ab9b.svg"},425:function(e,t,a){e.exports=a.p+"static/media/8d.89e37106.svg"},426:function(e,t,a){e.exports=a.p+"static/media/8h.b9d72423.svg"},427:function(e,t,a){e.exports=a.p+"static/media/8s.e3f9dd8c.svg"},428:function(e,t,a){e.exports=a.p+"static/media/9c.61f7db2f.svg"},429:function(e,t,a){e.exports=a.p+"static/media/9d.9588e406.svg"},430:function(e,t,a){e.exports=a.p+"static/media/9h.f9f789af.svg"},431:function(e,t,a){e.exports=a.p+"static/media/9s.33a43fda.svg"},432:function(e,t,a){e.exports=a.p+"static/media/jc.eddbedbf.svg"},433:function(e,t,a){e.exports=a.p+"static/media/jd.23ac2958.svg"},434:function(e,t,a){e.exports=a.p+"static/media/jh.1cf3161c.svg"},435:function(e,t,a){e.exports=a.p+"static/media/js.513fc16d.svg"},436:function(e,t,a){e.exports=a.p+"static/media/kc.4ae1fc90.svg"},437:function(e,t,a){e.exports=a.p+"static/media/kd.8508c6d4.svg"},438:function(e,t,a){e.exports=a.p+"static/media/kh.b45b5a1f.svg"},439:function(e,t,a){e.exports=a.p+"static/media/ks.37bc1223.svg"},440:function(e,t,a){e.exports=a.p+"static/media/qc.3240eb53.svg"},441:function(e,t,a){e.exports=a.p+"static/media/qd.bb54cab1.svg"},442:function(e,t,a){e.exports=a.p+"static/media/qh.2bc2a007.svg"},443:function(e,t,a){e.exports=a.p+"static/media/qs.f2784233.svg"},444:function(e,t,a){e.exports=a.p+"static/media/back1.382f57b1.svg"},445:function(e,t,a){},446:function(e,t,a){},447:function(e,t,a){},448:function(e,t,a){},449:function(e,t,a){},450:function(e,t,a){},451:function(e,t,a){},455:function(e,t,a){},456:function(e,t,a){"use strict";a.r(t);a(116),a(183),a(191);var n,i=a(1),s=a.n(i),c=a(58),r=a.n(c),o=a(5),l=a(6),d=a(32),u=a(30),p=a(33),g=a(31),f=a(180),v=a.n(f),h="card",b="tableauPart",k={CLUBS:"c",DIAMONDS:"d",HEARTS:"h",SPADES:"s"},m={c:"black",d:"red",h:"red",s:"black"},D={ACE:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,JACK:11,QUEEN:12,KING:13},C=(a(389),function(e){var t,n=e.location,i=e.rank,c=e.suit,r=e.isFaceUp,o=e.isSpread,l=e.style,d=e.handleClick,u=e.handleDoubleClick,p=e.isDraggable;switch(i){case 11:t="j";break;case 12:t="q";break;case 13:t="k";break;default:t=i+""}var g="";g=r?a(390)("./".concat(t).concat(c,".svg")):a(444);var f={rank:i,suit:c,isFaceUp:r,isSpread:o};return s.a.createElement("img",{className:"card"+(o?" spread":""),src:g,alt:i+c,onClick:function(e){return d(e,n,f)},onDoubleClick:function(e){return u(e,n,f)},style:l,draggable:p||!1})}),x=(a(445),function(e){var t=e.cards,a=e.handleClick,n=e.handleDoubleClick,i=t.map((function(e,t,i){var c=e.rank,r=e.suit,o=e.isFaceUp;return s.a.createElement(C,{location:"stock",key:c+r,rank:c,suit:r,isFaceUp:o,handleClick:a,handleDoubleClick:n})}));return s.a.createElement("div",{className:"stock area",onClick:function(e){a(e,"stock")}},i)});function E(){return n||((n=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),n}function y(e){var t=e.isDragging;return{opacity:t?0:1,height:t?0:""}}var O={beginDrag:function(e,t,a){return{location:e.location,rank:e.rank,suit:e.suit,isFaceUp:e.isFaceUp,rect:Object(c.findDOMNode)(a).getBoundingClientRect()}}},U=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.connectDragPreview(E(),{captureDraggingState:!0})}},{key:"render",value:function(){var e=this.props,t=e.location,a=e.rank,n=e.suit,i=e.isFaceUp,c=e.isSpread,r=e.handleClick,o=e.handleDoubleClick;return this.props.connectDragSource(s.a.createElement("div",{className:"draggableCard"},s.a.createElement(C,{location:t,rank:a,suit:n,isFaceUp:i,isSpread:c,handleClick:r,handleDoubleClick:o,isDraggable:!0,style:y(this.props)})))}}]),t}(i.Component),F=Object(g.d)(h,O,(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}))(U),j=(a(446),function(e){var t=e.handleClick,a=e.handleDoubleClick,n=e.cards.map((function(e,n,i){var c=e.rank,r=e.suit,o=e.isFaceUp,l=e.isSpread,d=!1;n===i.length-1&&(d=!0);var u=!1;return d&&(u=!0),u?s.a.createElement(F,{location:"waste",key:c+r,rank:c,suit:r,isFaceUp:o,isSpread:l,handleClick:t,handleDoubleClick:a}):s.a.createElement(C,{location:"waste",key:c+r,rank:c,suit:r,isFaceUp:o,isSpread:l,isDraggable:!1,handleClick:t,handleDoubleClick:a})}));return s.a.createElement("div",{className:"waste area"},n)}),w=(a(447),Object(g.e)(h,{canDrop:function(e){return!0},drop:function(e,t){var a=t.getItem();return e.handleDrop([{rank:a.rank,suit:a.suit,isFaceUp:a.isFaceUp}],a.location,e.id),{id:e.id}}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}}))((function(e){var t=e.id,a=e.handleClick,n=e.handleDoubleClick,i=e.canDrop,c=e.isOver,r=e.connectDropTarget,o=e.cards.map((function(e,i,c){var r=e.rank,o=e.suit,l=e.isFaceUp,d=!1;i===c.length-1&&(d=!0);var u=!1;return d&&(u=!0),u?s.a.createElement(F,{location:t,key:r+o,rank:r,suit:o,isFaceUp:l,handleClick:a,handleDoubleClick:n}):s.a.createElement(C,{location:t,key:r+o,rank:r,suit:o,isFaceUp:l,isDraggable:!1,handleClick:a,handleDoubleClick:n})})),l=i&&c;return r(s.a.createElement("div",{id:t,className:"foundation area"+(l?" active":"")},o))}))),A=function e(t){var a,n,i=t.location,c=t.cards,r=t.style,o=t.handleClick,l=t.handleDoubleClick,d=t.isDraggable;c.length>0&&(a=1===c.length&&c[0].isFaceUp?s.a.createElement(F,{location:i,rank:c[0].rank,suit:c[0].suit,isFaceUp:c[0].isFaceUp,handleClick:o,handleDoubleClick:l}):s.a.createElement(C,{location:i,rank:c[0].rank,suit:c[0].suit,isFaceUp:c[0].isFaceUp,handleClick:o,handleDoubleClick:l}),c.length>1&&(n=c[1].isFaceUp?s.a.createElement(I,{location:i,cards:c.slice(1),handleClick:o,handleDoubleClick:l}):s.a.createElement(e,{location:i,cards:c.slice(1),handleClick:o,handleDoubleClick:l})));var u="".concat(i).concat(c.length-1);return s.a.createElement("div",{id:u,className:"tableauPart",style:r,draggable:d||!1},a,n)};a(448);function S(e){var t=e.isDragging;return{opacity:t?0:1,height:t?0:""}}var N={beginDrag:function(e,t,a){return{location:e.location,cards:e.cards,rect:Object(c.findDOMNode)(a).getBoundingClientRect()}}},T=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.connectDragPreview(E(),{captureDraggingState:!0})}},{key:"render",value:function(){var e=this.props,t=e.location,a=e.cards,n=e.handleClick,i=e.handleDoubleClick;return this.props.connectDragSource(s.a.createElement("div",{className:"draggableTableauPart"},s.a.createElement(A,{location:t,cards:a,handleClick:n,handleDoubleClick:i,isDraggable:!0,style:S(this.props)})))}}]),t}(i.Component),I=Object(g.d)(b,N,(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}))(T),P=(a(449),{canDrop:function(e){return!0},drop:function(e,t){switch(t.getItemType()){case h:var a=t.getItem();e.handleDrop([{rank:a.rank,suit:a.suit,isFaceUp:a.isFaceUp}],a.location,e.id);break;case b:var n=t.getItem(),i=n.cards;e.handleDrop(i,n.location,e.id)}return{id:e.id}}}),M=Object(g.e)([h,b],P,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}}))((function(e){var t,a=e.id,n=e.cards,i=e.handleClick,c=e.handleDoubleClick,r=e.canDrop,o=e.isOver,l=e.connectDropTarget,d=r&&o;return n.length>1&&n[0].isFaceUp?t=s.a.createElement(I,{key:"".concat(a).concat(n.length-1),location:a,cards:n,handleClick:i,handleDoubleClick:c}):(n.length<=1||!n[0].isFaceUp)&&(t=s.a.createElement(A,{key:"".concat(a).concat(n.length-1),location:a,cards:n,handleClick:i,handleDoubleClick:c})),l(s.a.createElement("div",{id:a,className:"tableau area"+(d?" active":"")},t))}));function q(e){var t=e.item,a=e.currentOffset;if(!a)return{display:"none"};var n=a.x,i=a.y,s="translate(".concat(n,"px, ").concat(i,"px)"),c=t.rect;return{position:"absolute",left:0,top:0,width:c.width+"px",height:c.height+"px",pointerEvents:"none",transform:s,WebkitTransform:s}}var B=Object(g.c)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}}))((function(e){var t=e.isDragging,a=e.item,n=e.itemType;if(!t)return null;switch(n){case h:var i=a.rank,c=a.suit,r=a.isFaceUp;return s.a.createElement("div",{style:q(e)},s.a.createElement(C,{rank:i,suit:c,isFaceUp:r}));case b:var o=a.cards;return s.a.createElement("div",{style:q(e)},s.a.createElement(A,{cards:o}))}})),R=(a(450),function(e){function t(e){var a;Object(o.a)(this,t);var n=(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).createCards();n=a.shuffle(n);var i=a.deal(n);return a.state={board:i},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"createCards",value:function(){var e=[];return Object.values(k).forEach((function(t){Object.values(D).forEach((function(a){e.push({rank:a,suit:t,isFaceUp:!1})}))})),e}},{key:"shuffle",value:function(e){var t,a,n;for(t=e.length-1;t>0;t-=1)a=Math.floor(Math.random()*(t+1)),n=e[t],e[t]=e[a],e[a]=n;return e}},{key:"deal",value:function(e){for(var t,a={},n=0;n<5;n++)a["foundation".concat(n)]=[];for(var i=0;i<7;i++){t=[];for(var s=0;s<=i;s++)t.push(e.pop()),t[s].isFaceUp=s===i;a["tableau".concat(i)]=t}return a.stock=e,a.stock.forEach((function(e){e.isFaceUp=!1})),a.waste=[],a}},{key:"turnCards",value:function(){var e,t=this.state.board;t.waste.forEach((function(e){e.isSpread=!1}));for(var a=Math.min(t.stock.length,3),n=0;n<a;n++)(e=t.stock.pop()).isFaceUp=!0,e.isSpread=!0,t.waste.push(e);this.setState({board:t})}},{key:"resetStock",value:function(){var e=this.state.board;e.waste.forEach((function(e){e.isFaceUp=!1,e.isSpread=!1})),e.stock=e.waste.reverse(),e.waste=[],this.setState({board:e})}},{key:"moveCards",value:function(e,t,a){var n=this.state.board;if(n[t]=n[t].filter((function(t){for(var a=0;a<e.length;a++)if(t.rank===e[a].rank&&t.suit===e[a].suit)return!1;return!0})),n[a]=n[a].concat(e),a.startsWith("foundation")){for(var i=!0,s=0;s<4;s++)if(14!==this.state.board["foundation".concat(s)].length){i=!1;break}i&&this.triggerVictory()}this.setState({board:n})}},{key:"handleDrop",value:function(e,t,a){var n,i=this.state.board;if(i[a].length>0&&(n=i[a][i[a].length-1]),a.startsWith("foundation")){if(e.length>1)return!1;var s=e[0];if(0===i[a].length){if(1!==s.rank)return!1;this.moveCards(e,t,a)}else{if(s.suit!==n.suit||s.rank!==n.rank+1)return!1;this.moveCards(e,t,a)}}else if(a.startsWith("tableau")){var c=e[0];if(0===i[a].length){if(c.rank!==D.KING)return!1;this.moveCards(e,t,a)}else{if(m[c.suit]===m[n.suit])return!1;if(c.rank!==n.rank-1)return!1;this.moveCards(e,t,a)}}}},{key:"handleClick",value:function(e,t){if(e.preventDefault(),e.stopPropagation(),"stock"===t)this.state.board.stock.length>0?this.turnCards():this.resetStock();else if(t.startsWith("tableau")){var a=this.state.board;a[t][a[t].length-1].isFaceUp=!0,this.setState({board:a})}}},{key:"handleDoubleClick",value:function(e,t,a){e.preventDefault(),e.stopPropagation();for(var n,i,s=this.state.board,c=0;c<4;c++)if(0===s[i="foundation".concat(c)].length){if(a.rank===D.ACE){this.moveCards([a],t,i);break}}else if(n=s[i][s[i].length-1],a.suit===n.suit&&a.rank===n.rank+1){this.moveCards([a],t,i);break}}},{key:"triggerVictory",value:function(){console.log("VICTORY")}},{key:"renderFoundations",value:function(e){for(var t,a=[],n=0;n<e;n++)t="foundation".concat(n),a.push(s.a.createElement(w,{id:t,key:t,cards:this.state.board[t],handleDrop:this.handleDrop.bind(this),handleClick:this.handleClick.bind(this),handleDoubleClick:this.handleDoubleClick.bind(this)}));return a}},{key:"renderTableaus",value:function(e){for(var t,a=[],n=0;n<e;n++)t="tableau".concat(n),a.push(s.a.createElement(M,{id:t,key:t,cards:this.state.board[t],handleDrop:this.handleDrop.bind(this),handleClick:this.handleClick.bind(this),handleDoubleClick:this.handleDoubleClick.bind(this)}));return a}},{key:"render",value:function(){var e=this.renderFoundations(4),t=this.renderTableaus(7);return s.a.createElement("div",{className:"game",draggable:"false"},s.a.createElement("div",{className:"tableRow",draggable:"false"},s.a.createElement(x,{id:"stock",cards:this.state.board.stock,handleClick:this.handleClick.bind(this),handleDoubleClick:this.handleDoubleClick.bind(this)}),s.a.createElement(j,{id:"waste",cards:this.state.board.waste,handleClick:this.handleClick.bind(this),handleDoubleClick:this.handleDoubleClick.bind(this)}),e),s.a.createElement("div",{className:"tableRow",draggable:"false"},t),s.a.createElement(B,null))}}]),t}(i.Component)),W=Object(g.b)(v()({enableMouseEvents:!0}))(R),K=(a(451),function(e){return s.a.createElement("div",{className:"app",draggable:"false"},s.a.createElement(W,null))});a(452),a(455);r.a.render(s.a.createElement(K,null),document.getElementById("root"))}},[[182,1,2]]]);
//# sourceMappingURL=main.8572e028.chunk.js.map